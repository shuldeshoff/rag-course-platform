# –ú–æ–¥—É–ª—å 8: –§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

## –¶–µ–ª–∏ –º–æ–¥—É–ª—è
- –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é RAG-—Å–∏—Å—Ç–µ–º—É
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –∑–Ω–∞–Ω–∏—è –∫—É—Ä—Å–∞
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫ production
- –ó–∞—â–∏—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

## –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –ó–∞–¥–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å RAG-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏:
- –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
- –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫—É—Ä—Å
- –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –î—Ä—É–≥–æ–µ (—Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. –°–±–æ—Ä –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–º–∏–Ω–∏–º—É–º 20 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
2. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
3. RAG API –Ω–∞ FastAPI
4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YandexGPT
5. –ü—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (web/Telegram)
6. –¢–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–Ω–∞ –≤—ã–±–æ—Ä):**
- –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫
- –†–µ-—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
- –ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- CI/CD pipeline

### –≠—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

#### –≠—Ç–∞–ø 1: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ–¥–µ–ª—è 1)

**–î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–æ–µ–∫—Ç–∞:**
```markdown
# RAG Assistant –¥–ª—è [–æ–±–ª–∞—Å—Ç—å]

## –û–ø–∏—Å–∞–Ω–∏–µ
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞, –¥–ª—è –∫–æ–≥–æ, –∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞–µ—Ç

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç–∫—É–¥–∞ –±–µ—Ä–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –°–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ö–∞–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- –î–∏–∞–≥—Ä–∞–º–º–∞

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- Use cases
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞
- –ö–∞–∫ –∏–∑–º–µ—Ä—è—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ
- –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
```

#### –≠—Ç–∞–ø 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–µ–¥–µ–ª—è 2)

**–ó–∞–¥–∞—á–∏:**
1. –°–æ–±—Ä–∞—Ç—å –º–∏–Ω–∏–º—É–º 20 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä—ã
3. –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
4. –†–∞–∑–±–∏—Ç—å –Ω–∞ chunks
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ

**Deliverable:**
```python
# data_pipeline.py
class DataPipeline:
    def parse_documents(self):
        pass
    
    def clean_text(self):
        pass
    
    def chunk_documents(self):
        pass
    
    def prepare_metadata(self):
        pass
```

#### –≠—Ç–∞–ø 3: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è (–Ω–µ–¥–µ–ª—è 2)

**–ó–∞–¥–∞—á–∏:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Qdrant
2. –í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
3. –°–æ–∑–¥–∞—Ç—å –≤–µ–∫—Ç–æ—Ä—ã
4. –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ –ë–î
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```python
# –¢–µ—Å—Ç—ã –ø–æ–∏—Å–∫–∞
def test_search_quality():
    queries = [
        "—Ç–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å 1",
        "—Ç–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å 2",
    ]
    
    for query in queries:
        results = search(query, k=5)
        assert len(results) > 0
        assert results[0].score > 0.5
```

#### –≠—Ç–∞–ø 4: RAG API (–Ω–µ–¥–µ–ª—è 3)

**–ó–∞–¥–∞—á–∏:**
1. FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. Endpoints: /ask, /health, /stats
3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
4. Rate limiting
5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**API Contract:**
```yaml
POST /ask:
  request:
    question: string
    context: object (optional)
  response:
    answer: string
    sources: array
    confidence: float
```

#### –≠—Ç–∞–ø 5: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–µ–¥–µ–ª—è 3)

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**

**Web (Streamlit):**
```python
import streamlit as st

st.title("RAG Assistant")

question = st.text_input("–í–∞—à –≤–æ–ø—Ä–æ—Å:")
if st.button("–°–ø—Ä–æ—Å–∏—Ç—å"):
    with st.spinner("–î—É–º–∞—é..."):
        answer = call_rag_api(question)
        st.write(answer["answer"])
        
        with st.expander("–ò—Å—Ç–æ—á–Ω–∏–∫–∏"):
            for source in answer["sources"]:
                st.write(f"- {source}")
```

**Telegram Bot:**
```python
from aiogram import Bot, Dispatcher, types

@dp.message_handler(commands=['start'])
async def start(message: types.Message):
    await message.answer("–ü—Ä–∏–≤–µ—Ç! –ó–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å.")

@dp.message_handler()
async def handle_question(message: types.Message):
    answer = await call_rag_api(message.text)
    await message.answer(answer["answer"])
```

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ë–∞–ª–ª—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö | 20% | –û–±—ä–µ–º, —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ, –æ—á–∏—Å—Ç–∫–∞ |
| RAG —Å–∏—Å—Ç–µ–º–∞ | 30% | –ü–æ–∏—Å–∫, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ |
| –ö–æ–¥ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | 15% | –°—Ç—Ä—É–∫—Ç—É—Ä–∞, best practices, —Ç–µ—Å—Ç—ã |
| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å | 10% | –£–¥–æ–±—Å—Ç–≤–æ, –¥–∏–∑–∞–π–Ω, UX |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 10% | README, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ |
| –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è | 15% | –î–µ–º–æ, –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã |

### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–µ–∫—Ç–æ–≤

**1. –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞**
- –î–∞–Ω–Ω—ã–µ: FAQ, –ø–æ–ª–∏—Ç–∏–∫–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞, –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã, —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä—ã
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –≤–µ–±-—á–∞—Ç

**2. –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π**
- –î–∞–Ω–Ω—ã–µ: –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ wiki, –ø—Ä–æ—Ü–µ–¥—É—Ä—ã, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã
- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –æ—Ç–¥–µ–ª–∞–º
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: Slack bot

**3. –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫**
- –î–∞–Ω–Ω—ã–µ: –∑–∞–∫–æ–Ω—ã, —Å—É–¥–µ–±–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞
- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: —Ç–æ—á–Ω–æ—Å—Ç—å, —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–µ–π
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ó–∞—â–∏—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–§–æ—Ä–º–∞—Ç: 15-20 –º–∏–Ω—É—Ç**

1. **–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è (10 –º–∏–Ω):**
   - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
   - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –º–µ—Ç—Ä–∏–∫–∏

2. **–í–æ–ø—Ä–æ—Å—ã (5-10 –º–∏–Ω):**
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è
   - –°–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –∫–∞–∫ —Ä–µ—à–∞–ª–∏
   - –ß—Ç–æ –±—ã —É–ª—É—á—à–∏–ª–∏

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏:**
- –†–∞–±–æ—Ç–∞—é—â–µ–µ –¥–µ–º–æ
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ (–∫–ª—é—á–µ–≤—ã–µ —á–∞—Å—Ç–∏)
- –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### Checklist –ø–µ—Ä–µ–¥ —Å–¥–∞—á–µ–π

- [ ] README.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- [ ] requirements.txt –∏–ª–∏ pyproject.toml
- [ ] .env.example —Å –ø—Ä–∏–º–µ—Ä–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –¢–µ—Å—Ç—ã (–º–∏–Ω–∏–º—É–º 5)
- [ ] –†–∞–±–æ—Ç–∞—é—â–µ–µ API
- [ ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (OpenAPI)
- [ ] –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] Docker Compose (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è

## –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- LangChain –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- Qdrant cookbook
- YandexGPT –ø—Ä–∏–º–µ—Ä—ã
- FastAPI best practices
- Streamlit gallery

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º:
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
- –ü–æ–º–æ—â—å –≤ –≤—ã–±–æ—Ä–µ —Ç–µ–º—ã
- Code review
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

–£–¥–∞—á–∏ –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ! üöÄ

